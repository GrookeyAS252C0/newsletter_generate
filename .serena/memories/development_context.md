# 開発コンテキスト・特記事項

## プロジェクトの開発フェーズ
- **現在**: Phase 2完了（学校紹介機能統合）
- **次期**: Phase 3（体験情報追加）を検討中

## 重要な技術的特徴

### AI・RAGシステム
- **GPT-4o-mini**使用
- **健康アドバイス生成**: 気圧・月齢データ連動
- **学校紹介統合**: 12テーマローテーション
- **バリエーション管理**: 重複回避アルゴリズム

### データソース
- **天気情報**: 墨田区の複数ソース統合
- **月齢・気圧**: 専用JSONデータ活用  
- **学校情報**: Google Calendar + CSV
- **YouTube**: 公式チャンネル連携

### セキュリティ・運用
- **環境変数**: .envファイルで秘匿情報管理
- **Streamlit Cloud対応**: st.secrets活用
- **API制限対応**: 複数段階フォールバック

## 開発時の注意点

### 日本語プロジェクト
- ファイル・変数・コメント・docstringで日本語使用
- 文字化け対策が重要

### 外部API依存
- OpenAI APIキー必須
- YouTube API（オプション）
- Google Calendar API（オプション）

### Darwin/macOS環境
- パス区切り文字注意（/使用）
- 仮想環境はsource env/bin/activate

## プロジェクト固有の制約
- 日曜日はメルマガ発行なし
- 2025年4月3日を基準とした発行No.計算
- 120文字制限のコンパクトメッセージ生成